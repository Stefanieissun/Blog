### mysql 性能优化

- `当只要一行数据时使用 limit 1查询时如果已知会得到一条数据，这种情况下加上 limit 1 会增加性能。因为 mysql 数据库引擎会在找到一条结果停止搜索，而不是继续查询下一条是否符合标准直到所有记录查询完毕。`
- `用 not exists 代替 not inNot exists 用到了连接能够发挥已经建立好的索引的作用，not in 不能使用索引。Not in 是最慢的方式要同每条记录比较，在数据量比较大的操作红不建议使用这种方式。`
- `like很慢，一般来说最好使用fulltext而不是like`
- `char比varchar效率高很多，并且varchar字段不能进行索引，所以确定的字符长度字段最好使用char字段`
- `存储过程执行比一条一条地执行其中的各条语句快`
- `where在查询为空数据时不能使用==，应该书写成以下方式`

### mysql 数据类型的选择和优化案例

- 手机号存储<br>
  使用 BIGINT 代替 CHAR 或者 VARCHAR 存放手机号码。
  这是因为 CHAR 或者 VARCHAR，占用空间大，影响查询性能。
  例如：11 位手机号 CHAR 存储，utf8 编码，则占用 33 个字节；
  使用如果使用 INT 的话，INT 最大只能保存 10 为数据，而手机号为 11 位，会出现溢出，所以使用 BIGINT 占用 8 个字节，支持 11 为数据存储。

- IP 地址可以使用 INT 存储 <br>
  MySQL 里提供了一个很好的函数 INET_ATON(),他负责把 IP 地址转化为数字，而另一个函数 INET_NTOA（）负责将数字转化为 IP 地址，示例如下：注意：INT 使用无符号，这是因为 INT 有符号最大为 2147483647 而无符号 最大为 4294967295，如果使用有符号的话，会出现溢出，使用无符号则不会溢出。

* 避免使用 enum 类型，用 TINYINT 替代<br>
  修改值必须使用 alter、排序的效率比较低、禁止使用数字作为 enum 枚举值

* 尽可能把所有列定义为 not null<br>
  索引 null 列会占用更多的空间
  进行比较时需要作额外的处理
